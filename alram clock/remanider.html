<!DOCTYPE html>
<html>
<head>
	<title>remainder</title>
	<link rel="stylesheet" type="text/css" href="remanider.css">
	<link rel="stylesheet"  href="http://fontawesome.io/assets/font-awesome/css/font-awesome.css">
</head>
<body>
<div class="header">
	<input type="text" name="" class="emptyinp" id="emptyinp"><br>
     
     <div id="alramblock" style="display: none;">
     <span onclick="alramring()">	<i class="fa fa-bell-o" aria-hidden="true" ></i></span>
     <div id="alarmicon" style="display: none;">hello</div>
     </div>

	<div class="calender">
	    <i class="fa fa-calendar" aria-hidden="true"></i> 
	    <input type="radio" name="date" value="today"  id="todaydate"> <strong>Today</strong>
	    <input type="radio" name="date" value="tomorow"  id="tomorow"> <strong>Tommorow</strong>
	    <input type="date" name="date" value="calender" >	
   </div>
   <div class="times">
   	<i class="fa fa-clock-o" aria-hidden="true"></i>
   	<select id="numberoftimes">
   		<option value="12:30">12:30am</option>
   		<option value="1:00">1:00am</option>
   		<option value="1:30">1:30am</option>
        <option value="2:00">2:00am</option>
        <option value="2:30">2:30am</option>
        <option value="3:00">3:00am</option>
        <option value="3:30">3:30am</option>
        <option value="4:00">4:00am</option>
        <option value="4:30">4:30am</option>
        <option value="5:00">5:00am</option>
        <option value="5:30">5:30am</option>
        <option value="6:00">6:00am</option>
        <option value="6:30">6:30am</option>
        <option value="7:00">7:00am</option>
        <option value="7:30">7:30am</option>
        <option value="8:00">8:00am</option>
        <option value="8:30">8:30am</option>
        <option value="9:00">9:00am</option>
        <option value="9:30">9:30am</option>
        <option value="10:00">10:00am</option>
        <option value="10:30">10:30am</option>
        <option value="11:00">11:00am</option>
        <option value="11:30">11:30am</option>
        <option value="12:00">12:00pm</option>
        <option value="12:30">12:30pm</option>
       	<option value="13:00">1:00pm</option>
   		<option value="13:30">1:30pm</option>
        <option value="14:00">2:00pm</option>
        <option value="14:30">2:30pm</option>
        <option value="15:00">3:00pm</option>
        <option value="15:30">3:30pm</option>
        <option value="16:00">4:00pm</option>
        <option value="16:30">4:30pm</option>
        <option value="17:00">5:00pm</option>
        <option value="17:30">5:30pm</option>
        <option value="18:00">6:00pm</option>
        <option value="18:30">6:30pm</option>
        <option value="19:36">19:36pm</option>  <option value="18.30">18.30pm</option>
        <option value="19:32">7:30pm</option>
        <option value="20:00">8:00pm</option> <option value="20:42">8:42pm</option>
        <option value="20:30">8:30pm</option>
        <option value="21:00">9:00pm</option>
        <option value="21:30">9:30pm</option>
        <option value="22:00">10:00pm</option>
        <option value="22:30">10:30pm</option>
        <option value="23:00">11:00pm</option>
        <option value="23:30">11:30pm</option>
        <option value="24:00">12:00am</option>

   	  	</select>
   </div>
   <div class="alarm">
   	<i class="fa fa-bell-o" aria-hidden="true"></i>
   	<input type="radio" name="alarms" value="" id="15m"> <strong>15min</strong>
   	<input type="radio" name="alarms" value="" id="30m"><strong>30min</strong>
   	<input type="radio" name="alarms" value="" id="1hr"><strong>1hour</strong>
   </div>
   <div class="loaction">
   	<i class="fa fa-map-marker" aria-hidden="true"></i>
   	<select id="loactions">
   		<option>hyderabad</option>
   		<option>guntur</option>
   		<option>vijayawada</option>
   		<option>vizag</option>
   		<option>vikarabad</option>
   		<option>wrangal</option>
   	</select>
   </div>
   <div>
   <input type="button" name="" value="save" class="savebtn" onclick="savebutton()"><br>
   </div>
   <div class="cancel">
   <input type="button" name="" value="cancel" class="cancelbtn">
   </div>
</div>
<div id="savedetails"></div>
<script >
var remanider = [];

function savebutton() {


    var empt = document.getElementById("emptyinp").value;


    var presentdate;
    if (document.getElementById("todaydate").checked) {
        var currenttime = new Date();
        var date = currenttime.getDate();
        var month = currenttime.getMonth() + 1;
        var year = currenttime.getFullYear();
        presentdate = month + "/" + date + "/" + year;

    } 
    else {
        var currentDate = new Date(new Date().getTime() + 24 * 60 * 60 * 1000);
        var day = currentDate.getDate()
        var month = currentDate.getMonth() + 1
        var year = currentDate.getFullYear()
        presentdate = month + "/" + day + "/" + year;
    }

    var times = document.getElementById("numberoftimes").value;


    var alr;
    if (document.getElementById("15m").checked) {

        alr = times ;

    } else if (document.getElementById("30m").checked) {
        alr = times ;

    } else {
        alr = times ;

    }
    var loaction = document.getElementById("loactions").value;
    var allfielddetails = {"empt": empt, "presentdate": presentdate, "times": times,"alr": alr,"loaction": loaction}

    remanider.push(allfielddetails)
    console.log(JSON.stringify(remanider))
    alert()
    setInterval(function() {
            var dd = new Date();
            var tt = dd.getHours() + ":" + dd.getMinutes();
            for (i = 0; i < remanider.length; i++) {
                /*if (remanider[i].alr == tt) {
                	 alert(tt)
                	 document.getElementById("alramblock").style.display="block";
                    document.getElementById("alramblock").innerHTML = "<p>" + remanider[i].empt + "</p><p>" + remanider[i].times + "</p><p>" + remanider[i].loaction + "</p><p>"+remanider[i].presentdate+"</p>"
                }*/
                checktime(remanider[i].alr,i)
            }
           
        },60000);
      
    }
    function alramring(){
    	document.getElementById("alarmicon").style.display="block";
      //3:3
    }
 function checktime(clocktime,i){
                var sp=clocktime.split(':');
                var minu=(+sp[0])*60+(+sp[1]);
            
                var d=new Date();
                var hr=d.getHours();
                var mm=d.getMinutes();
                cur=hr+":"+mm;
                var s=cur.split(':');
                var min=(+s[0])*60+(+s[1]);
            
                if(minu==min){
                document.getElementById("alramblock").style.display="block";
                    document.getElementById("alramblock").innerHTML = "<p>" + remanider[i].empt + "</p><p>" + remanider[i].times + "</p><p>" + remanider[i].loaction + "</p><p>"+remanider[i].presentdate+"</p>"
              }
}
</script>
</body>
</html>